export const metadata = {
    title: 'Notes',
    description:
        'Add notes to various resources.',
}

# Notes

Add notes to resources within AI Library `agent`, `knowledgebase`, or `file`. {{ className: 'lead' }}

The spirit of notes is to provide a way to add comments, feedback, or any other information to a resource.  {{ className: 'lead' }}

Notes can have three roles - `assistant`, `user`, or `system`. This helps in identifying the source of the note for transparency and accountability. {{ className: 'lead' }}

Notes provide a meta field to store custom json data. This can be used to store additional information about the note. {{ className: 'lead' }}

Here are a some possible use cases: {{ className: 'lead' }}

- Save a generation from an AI model, add a comment to it, and then refer to it later {{ className: 'lead' }}
- Save a generation as an article with a json containing meta data about the article like title, seo description, etc. This can then be used to display the article in a blog or website on your website {{ className: 'lead' }}
- Add a note to a knowledgebase or file to provide context or additional information {{ className: 'lead' }}


---


## Add a Note {{ tag: 'POST', label: '/v1/notes' }}

<Row>
  <Col>

    Add a note to a resource.

    ### Request body

    <Properties>
      <Property name="content" type="string"  required="true">
        Content of the note
      </Property>
      <Property name="role" type="string"  required="true">
        Role of the note. Can be `assistant`, `user` or `system`.
      </Property>
      <Property name="resource" type="string"  required="true">
        Resource of the note. Can be `agent`, `knowledgebase` or `file`
      </Property>
      <Property name="resource_id" type="string"  required="true">
        ID of the resource
        - For agent, it is `namespace`
        - For knowledgebase, it is `knowledgeId`
        - For file, it is `id`
      </Property>
      <Property name="meta" type="string">
        Custom json value
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="POST" label="/v1/notes">
    
    ```json {{'title': 'Body'}}
    {
        "content": "hello",
        "role": "assistant", //assistant, user, system
        "resource": "agent",
        "resource_id": "my-agent-namespace",
        "meta": "{'id':'1'}" // custom json value
    }
    ```
    
    ```python

    import requests

    url = "https://api.ailibrary.ai/v1/notes"

    payload = {
        "content": "hello",
        "role": "assistant",
        "resource": "agent",
        "resource_id": "my-agent-namespace",
        "meta": "{'id':'1'}" // custom json value
    }

    headers = {
        "X-Library-Key": "<your-api-key>",
        "Content-Type": "application/json"
    }

    response = requests.request("POST", url, headers=headers, json=payload)
    
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
        "content": "hello",
        "role": "assistant",
        "resource": "agent",
        "resource_id": "my-agent-namespace",
        "meta": "{'id':'1'}" // custom json value
    }
    ```
    </Col>
</Row>

---

## Get Notes {{ tag: 'GET', label: '/v1/notes/{resource}/{resource_id}' }}

<Row>
  <Col>

    Get notes for a resource.

    ### Request parameters

    <Properties>
      <Property name="resource" type="string"  required="true">
        Resource of the note. Can be `agent`, `knowledgebase` or `file`
      </Property>
      <Property name="resource_id" type="string"  required="true">
        ID of the resource
        For agent, it is the `namespace`
        For knowledgebase, it is the `knowledgeId`
        For file, it is the `fileId`
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/notes/{resource}/{resource_id}">

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/notes/agent/my-agent-namespace"

    headers = {
        "X-Library-Key": "<your-api-key>"
    }

    response = requests.request("GET", url, headers=headers)
    ```

    ```javascript
    const axios = require('axios');

    let config = {
        method: 'get',
        maxBodyLength: Infinity,
        url: 'https://api.ailibrary.ai/v1/notes/agent/my-agent-namespace',
        headers: { 
            'X-Library-Key': '<your-api-key>'
        }
    };
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    [
        {
            "meta": {
                "current_page": 1,
                "limit": 50,
                "next_page": "",
                "prev_page": "",
                "total_items": 1,
                "total_pages": 1
            },
            "notes": [
                {
                    "content": "hello",
                    "created_timestamp": "2025-01-09 13:05:03",
                    "noteId": "fcaca8a1-049c-4441-b69a-326ef221b9dd",
                    "resource": "agent",
                    "resource_id": "my-agent-namespace",
                    "role": "assistant",
                    "updated_timestamp": "2025-01-09 13:05:03",
                    "userEmail": "arani@ailibrary.ai",
                    "userName": "Arani Chaudhuri"
                }
            ]
        }
    ]
    ```

  </Col>
</Row>

---

## Delete a Note {{ tag: 'DELETE', label: '/v1/notes/{noteId}' }}

<Row>
  <Col>

    Delete a note.

    ### Request parameters

    <Properties>
      <Property name="noteId" type="string"  required="true">
        ID of the note
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="DELETE" label="/v1/notes/{noteId}">

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/notes/my-agent-namespace"

    headers = {
        "X-Library-Key": "<your-api-key>"
    }

    response = requests.request("DELETE", url, headers=headers)
    ```

    ```javascript
    const axios = require('axios');

    let config = {
        method: 'delete',
        maxBodyLength: Infinity,
        url: 'https://api.ailibrary.ai/v1/notes/my-agent-namespace',
        headers: { 
            'X-Library-Key': '<your-api-key>'
        }
    };
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
        "message": "Note deleted successfully"
    }
    ```

  </Col>
</Row>

---

## Update a Note {{ tag: 'PUT', label: '/v1/notes/{noteId}' }}

<Row>
  <Col>

    Update a note.

    ### Request parameters

    <Properties>
      <Property name="noteId" type="string"  required="true">
        ID of the note
      </Property>
    </Properties>

    ### Request body

    <Properties>
      <Property name="content" type="string"  required="true">
        Content of the note
      </Property>
      <Property name="role" type="string"  required="true">
        Role of the note. Can be `assistant`, `user` or `system`.
      </Property>
      <Property name="meta" type="string">
        Custom json value
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="PUT" label="/v1/notes/{noteId}">

    ```json {{'title': 'Body'}}
    {
        "content": "hello",
        "role": "assistant", //assistant, user, system
        "meta": "{'id':'1'}" // custom json value
    }
    ```

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/notes/my-agent-namespace"

    payload = {
        "content": "hello",
        "role": "assistant",
        "resource": "agent",
        "resource_id": "my-agent-namespace",
        "meta": ""
    }

    headers = {
        "X-Library-Key": "<your-api-key>",
        "Content-Type": "application/json"
    }

    response = requests.request("PUT", url, headers=headers, json=payload)
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
        "status": "success",
        "message": "Note updated successfully"
    }
    ```
    </Col>
</Row>

---

## Get a Note {{ tag: 'GET', label: '/v1/notes/{noteId}' }}

<Row>
  <Col>

    Get a note by ID.

    ### Request parameters

    <Properties>
      <Property name="noteId" type="string"  required="true">
        ID of the note
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/notes/{noteId}">

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/notes/my-agent-namespace"

    headers = {
        "X-Library-Key": "<your-api-key>"
    }

    response = requests.request("GET", url, headers=headers)
    ```

    ```javascript
    const axios = require('axios');

    let config = {
        method: 'get',
        maxBodyLength: Infinity,
        url: 'https://api.ailibrary.ai/v1/notes/my-agent-namespace',
        headers: { 
            'X-Library-Key': '<your-api-key>'
        }
    };
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
        "content": "hello",
        "created_timestamp": "2025-01-09 13:05:03",
        "meta": {
            "id": "1"
        },
        "noteId": "fcaca8a1-049c-4441-b69a-326ef221b9dd",
        "resource": "agent",
        "resource_id": "my-agent-namespace",
        "role": "assistant",
        "updated_timestamp": "2025-01-09 13:05:03",
        "userEmail": "arani@ailibrary.ai",
        "userName": "Arani Chaudhuri"
    }
    ```

  </Col>
</Row>