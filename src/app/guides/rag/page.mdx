import { Guides } from '@/components/Guides'
import { Resources } from '@/components/Resources'
import { HeroPattern } from '@/components/HeroPattern'

export const metadata = {
  title: 'RAG (Retrieval Augmented Generation)',
  description:
    'Learn the basics of RAG (Retrieval Augmented Generation)',
}


<HeroPattern />

# Retrieval Augmented Generation

Retrieval Augmented Generation (RAG) is a technique used to teach a foundation model things it doesn't know. {{ className: 'lead' }}

Knowledge is retrieved from <i>outside</i> a foundation model and augment prompts by adding the relevant retrieved data in context. {{ className: 'lead' }}

For example, if you ask ChatGPT about a current topic, it will most likely fail to provide a good answer. However, if you use RAG, the system will retrieve relevant information from a knowledge source like <strong>News</strong> and append it to your prompt to inject knowledge use it to generate a better answer. {{ className: 'lead' }}

You can use AI Library to implement RAG with minimal coding. {{ className: 'lead' }}

The first step is to define a knowledge source. You can use a pre-built knowledge source or create a custom one. {{ className: 'lead' }}

<CodeGroup title="Create a Knowledge Base" tag="POST" label="/v1/knowledgebase">

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/knowledgebase"

    payload = json.dumps({
      "name": "stable-diffusion-xl-1024-v1-0@stability",
    })
    headers = {
      'X-Library-Key': '••••••'
    }

    response = requests.request("POST", url, headers=headers, data=payload)

    print(response.text)
    ```

    ```javascript
    const axios = require('axios');

    let config = {
      method: 'post',
      maxBodyLength: Infinity,
      url: 'https://api.ailibrary.ai/v1/knowledgebase',
      headers: { 
        'X-Library-Key': '••••••'
      }
    };

    axios.request(config)
    .then((response) => {
      console.log(JSON.stringify(response.data));
    })
    .catch((error) => {
      console.log(error);
    });
    ```

    </CodeGroup>


The second step is to add data to knowledge source, if needed {{ className: 'lead' }}

First, upload files

<CodeGroup title="Add Files to Knowledge Base" tag="POST" label="/v1/files">

    ```python
    import requests

    url = "https://api.ailibrary.ai/v1/files"

    files=[
      ('files',('w2-single.png',open('/link/to/local/file.png','rb'),'image/png'))
    ]
    headers = {
      'X-Library-Key': '••••••'
    }

    response = requests.request("POST", url, headers=headers, data=payload)

    print(response.text)
    ```

    ```javascript
    const axios = require('axios');

    let config = {
      method: 'post',
      maxBodyLength: Infinity,
      url: 'https://api.ailibrary.ai/v1/knowledgebase',
      headers: { 
        'X-Library-Key': '••••••'
      }
    };

    axios.request(config)
    .then((response) => {
      console.log(JSON.stringify(response.data));
    })
    .catch((error) => {
      console.log(error);
    });
    ```

    </CodeGroup>

Next, process the files and add them to the knowledge source



The third step is to use the knowledge source to augment your prompt. {{ className: 'lead' }}



